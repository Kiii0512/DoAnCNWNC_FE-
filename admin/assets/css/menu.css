/* menu.css
   CSS cho phần menu ngang cuộn (shared giữa adminOrder và adminExport)
   - Chú thích bằng tiếng Việt
   - Dựa trên biến trong bienChung.css (ví dụ --primary, --muted, --card, --radius)
*/

/* ----- Khung menu chính ----- */
.menu {
  max-width: var(--maxWidth);
  margin: 6px auto 0;
  padding: 8px 12px;
  background: var(--card);
  border-radius: 8px;
  border: 1px solid #e6e7eb;
  box-shadow: 0 1px 6px rgba(2,6,23,0.04);
  position: relative;
  overflow: visible;
}

/* Con chứa menu và mũi tên điều hướng */
.menu-nav {
  max-width: var(--maxWidth);
  margin: 0 auto;
  display: flex;
  align-items: center;
  gap: 8px;
  position: relative;
}

/* Vùng cuộn (ẩn scroll bar mặc định) */
.scroll-wrap {
  flex: 1 1 auto;
  overflow: hidden;     /* ẩn thanh cuộn, dùng JS để scroll */
  min-width: 0;         /* cho phép con co lại (important cho flex) */
}

/* Nội dung cuộn: hiển thị theo hàng, không xuống dòng */
.scroll-inner {
  display: flex;
  gap: 10px;
  align-items: center;
  white-space: nowrap;
  transition: transform .22s ease;
  will-change: transform;
}

/* ----- Item menu ----- */
.menu-item {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 14px;
  border-radius: 8px;
  text-decoration: none;
  color: var(--accent);
  font-weight: 700;
  background: transparent;
  cursor: pointer;
  border: 1px solid transparent;
  flex: 0 0 auto; /* không co giãn */
  position: relative;
  transition: transform .14s ease, box-shadow .14s ease, background-color .14s ease, color .14s ease;
  user-select: none;
}

/* Hover / focus trên item */
.menu-item:hover,
.menu-item:focus {
  background: linear-gradient(90deg, rgba(11,92,255,0.06), rgba(11,92,255,0.02));
  color: var(--primary);
  transform: translateY(-3px);
  box-shadow: 0 8px 24px rgba(11,92,255,0.06);
  outline: none;
}

/* trạng thái active mạnh hơn */
.menu-item.active {
  background: linear-gradient(90deg, rgba(11,92,255,0.10), rgba(11,92,255,0.04));
  color: var(--primary);
  box-shadow: 0 12px 30px rgba(2,6,23,0.08);
}

/* Accent bar bên trái cho item active */
.menu-item.active::after {
  content: '';
  position: absolute;
  left: 6px;
  top: 8%;
  bottom: 8%;
  width: 4px;
  border-radius: 6px;
  background: var(--primary);
  box-shadow: 0 6px 16px rgba(11,92,255,0.12);
}

/* Hỗ trợ accessibility: aria-current */
.menu-item[aria-current="page"] {
  outline: 3px solid rgba(11,92,255,0.08);
  outline-offset: 2px;
}

/* Tag phụ bên cạnh tên mục (nhỏ, mờ) */
.menu-item .tag {
  font-size: 12px;
  color: var(--muted);
  font-weight: 600;
  margin-left: 6px;
}

/* ----- Nút mũi tên trái / phải ----- */
.nav-arrow {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: var(--card);
  border: 1px solid rgba(2,6,23,0.08);
  color: var(--accent);
  cursor: pointer;
  margin-left: 8px;
  flex: 0 0 auto;
  box-shadow: 0 6px 12px rgba(2,6,23,0.06);
  transition: transform .14s ease, box-shadow .14s ease, background-color .14s ease, color .14s ease;
  user-select: none;
}

/* Hover/Focus cho nút mũi tên */
.nav-arrow:hover,
.nav-arrow:focus {
  transform: translateY(-2px);
  background: var(--primary);
  color: #fff;
  box-shadow: 0 12px 30px rgba(11,92,255,0.12);
  outline: none;
}

/* Khi ẩn (hidden attribute) -> display none (quan trọng cho aria-hidden) */
.nav-arrow[hidden] {
  display: none !important;
}

/* Kích thước nhỏ hơn trên màn nhỏ */
@media (max-width: 880px) {
  .nav-arrow { width: 34px; height: 34px; }
  .menu { padding: 6px; }
  .scroll-inner { gap: 8px; }
  .menu-item { padding: 8px 12px; font-size: 14px; }
}

/* RWD: khi quá nhỏ, cho phép menu hiển thị thử thành 1 hàng dọc (nếu muốn) */
/* Ở đây vẫn để cuộn ngang nhưng ẩn thead trong table nếu cần (page-specific) */
@media (max-width: 520px) {
  .menu { border-radius: 8px; padding: 6px; }
  .menu-item { padding: 8px 10px; font-size: 13px; }
  .menu-item .tag { display: none; } /* ẩn tag để tiết kiệm chỗ trên điện thoại */
}

/* ----- Một số trợ giúp JS/CSS ----- */
/* class helper để khi nội dung tràn thì bật/ẩn mũi tên */
.menu.hasOverflow .nav-arrow { display: inline-flex; }

/* helper focus ring cụ thể cho keyboard navigation (giữ nhất quán) */
.menu-item:focus-visible {
  outline: 3px solid rgba(11,92,255,0.12);
  outline-offset: 2px;
}

/* Disable text selection khi kéo (touch/draggable) */
.scroll-inner, .menu-item { -webkit-user-select: none; -ms-user-select: none; user-select: none; }

/* Nếu muốn thêm hiệu ứng shadow khi menu active toàn bộ (tuỳ chỉnh) */
.menu.active { box-shadow: 0 12px 40px rgba(2,6,23,0.06); }

/* ----- Ghi chú:
   - menu.js sẽ điều khiển scrollLeft của .scroll-wrap, cập nhật thuộc tính hidden của .nav-arrow,
     và đặt class "active" / aria-current cho .menu-item tương ứng.
   - Nếu load partial server-side, không cần fetch; nếu inject client-side, đảm bảo menuAdmin.html được
     chèn vào DOM trước khi nạp menu.js.
*/
